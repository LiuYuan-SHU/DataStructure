# Data Structure(2)

> 研讨一 树和森林
>
> **一、目的和要求**
>
> \1. 掌握树和森林的逻辑结构定义和各种存储结构的实现。
>
> \2. 掌握树、森林与二叉树之间的转化关系，运用二叉树的遍历算法实现树、森林的遍历。
>
> \3. 根据实际问题的需要，选择树、森林的存储结构解决问题。
>
> **二、实验环境**
>
> \1.    Windows操作系统；
>
> \2.    DEV C++、Visual Studio等集成开发环境；
>
> **三、实验内容**
>
> 
>
>    **提交要求：**
>
> ​    **1）实验报告：按照模板撰写；**
>
> 
>
> ​    **2）源程序：每个小组一个文件夹，包括和编译好的可执行程序，文件夹打包成一个压缩文件，以附件形式上传，文件名格式：第x组研讨一.zip。**
>
> 
>
> ​    **截止时间：研讨结束后的一周内**
>
> 
>
> 
>
> 1、家谱管理系统
>
> **[****问题描述]
> **
>
>  家谱管理系统是查询家谱信息必不可少的一部分，利用家谱管理系统可以清楚的查询到家族成员的详细信息。成员的信息一般应包含以下内容:姓名、出生日期、婚姻状况（已婚、未婚等）、地址、目前状况（健在或身故）、死亡日期（若其已死亡）等，也可附加其他信息。系统要求设计合理的数据结构存储家谱中各成员的信息（一般定义结构体）和成员之间的关系。要求系统可以实现插入、查询、修改、删除等功能。例如，图1所示是一个家谱图，其中李甲天是第1代，他的孩子李一河、李一福、李一山是第2代，以此类推。
>
> ![snap_screen_20220315215052.png](http://p.ananas.chaoxing.com/star3/origin/c5ea18870b6fbf29fd2b7ca75db44ba7.jpg)
>
> **[****系统功能]**
>
> 该系统应实现以下功能：
>
> (1) 建立初始家谱树。
>
> (2) 用恰当的形式显示家谱树。
>
> (3) 根据代号n，显示第n代人数及其姓名。
>
> (4) 按照姓名查询，输出成员信息（包括其本人、父亲、孩子的信息，以及他在家谱中的代数）。
>
> (5) 输入两人姓名，确定其关系（“关系”按照现实生活中的使用习惯进行定义）。
>
> (6) 给某人添加孩子。
>
> (7) 删除某人(若其还有后代，则一并删除)。
>
> (8) 修改某人信息。
>
> **[****输入]**
>
> 初始数据由文件输入，自己定义输入文件的结构。系统提供菜单，让用户选择不同的功能进行处理。
>
> **[****输出]**
>
> 系统运行结束时，保存家谱信息到输出文件，其结构同输入文件。各功能的输出按要求完成。
>
>  
>
> 2、森林的双亲孩子表示法的设计与实现
>
> **[****问题描述]**
>
> 仿照树的双亲孩子表示法，设计森林的双亲孩子存储结构。
>
> **[****功能]**
>
> （1）基本的增删查改；
>
> （2）森林的先根、中根、后根遍历；
>
> （3）求森林的规模（森林中树的数目）；
>
> （4）求森林的高度（森林中树的最大高度）；
>
> （5）求森林的叶子数（森林中所有树的叶子之和）。
>
> **[****测试数据]**
>
> （1）  ![6-2.jpg](https://p.ananas.chaoxing.com/star3/origin/b978da10ca526d9311c2b0d45c8a9d13.jpg)            
>
> （2）其他数据自行设计。
>
> 
>
> 
>
> 3、食物链
>
> **[****问题描述]**
>
> 动物王国中有三类动物A,B,C，这三类动物的食物链构成了有趣的环形。A吃B，B吃C，C吃A。
>
> 现有N个动物，以1－N编号。每个动物都是A,B,C中的一种，但是我们并不知道它到底是哪一种。
>
> 有人用两种说法对这N个动物所构成的食物链关系进行描述：
>
> 第一种说法是"1 X Y"，表示X和Y是同类。
>
> 第二种说法是"2 X Y"，表示X吃Y。
>
> 此人对N个动物，用上述两种说法，一句接一句地说出K句话，这K句话有的是真的，有的是假的。当一句话满足下列三条之一时，这句话就是假话，否则就是真话。
>
> 1）当前的话与前面的某些真的话冲突，就是假话；
>
> 2）当前的话中X或Y比N大，就是假话；
>
> 3）当前的话表示X吃X，就是假话。
>
> 你的任务是根据给定的N（1 <= N <= 50,000）和K句话（0 <= K <= 100,000），输出假话的总数。
>
> **[****输入]**
>
> 第一行是两个整数N和K，以一个空格分隔。
>
> 以下K行每行是三个正整数 D，X，Y，两数之间用一个空格隔开，其中D表示说法的种类。
>
> 若D=1，则表示X和Y是同类。
>
> 若D=2，则表示X吃Y。
>
> **[****输出]**
>
> 只有一个整数，表示假话的数目。
>
> **[****输入样例]**
>
> 100 7
>
> 1 101 1
>
> 2 1 2
>
> 2 2 3
>
> 2 3 3
>
> 1 1 3
>
> 2 3 1
>
> 1 5 5
>
> **[****输出样例]**
>
> 3
>
> **[****要求]**
>
> 输入数据在foodchain.in 文件中；输出数据在foodchain.out文件中.
